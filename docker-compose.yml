services:
  mole-server:
    build: .
    ports:
      - "${MOLE_PORT:-80}:80"
    volumes:
      - ./.env:/root/.env:ro
      - letsencrypt_data:/var/lib/letsencrypt
      - letsencrypt_logs:/var/log/letsencrypt  
      - letsencrypt_certs:/etc/letsencrypt
      - mole_logs:/var/log

    restart: unless-stopped
    networks:
      - mole-network

volumes:
  letsencrypt_data:
  letsencrypt_logs:
  letsencrypt_certs:
  mole_logs:

networks:
  mole-network:
    driver: bridge